<!doctype>
<script src="../vendor/d3.min.js"></script>
<script src="../vendor/d3.layout.min.js"></script>
<script src="../rickshaw.min.js"></script>

<div id="chart"></div>
<div id="legend"></div>

<script>

    var wrapper = new Rickshaw.Graph.Ajax({
        element: document.getElementById("chart"),
        dataURL: 'data/status.json',
        width: 960,
        height: 500,
        renderer: 'bar',
        onData: function (d) { return transformData(d) },
        onComplete: function (w) {
            var legend = new Rickshaw.Graph.Legend({
                element: document.querySelector('#legend'),
                graph: w.graph
            });
        }
    });

</script>
